(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{423:function(e,s,t){"use strict";t.r(s);var a=t(42),r=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"发布插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布插件"}},[e._v("#")]),e._v(" 发布插件")]),e._v(" "),t("h2",{attrs:{id:"vsce-发布工具参阅"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vsce-发布工具参阅"}},[e._v("#")]),e._v(" vsce —— 发布工具参阅")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/Microsoft/vsce",target:"_blank",rel:"noopener noreferrer"}},[e._v("vsce"),t("OutboundLink")],1),e._v("是一个用于将插件发布到"),t("a",{attrs:{href:"https://code.visualstudio.com/docs/editor/extension-gallery",target:"_blank",rel:"noopener noreferrer"}},[e._v("市场"),t("OutboundLink")],1),e._v("上的命令行工具。")]),e._v(" "),t("h2",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),t("hr"),e._v(" "),t("p",[e._v("请确认本机已经安装了"),t("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js"),t("OutboundLink")],1),e._v("，然后运行：")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g vsce\n")])])]),t("h2",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[e._v("#")]),e._v(" 使用")]),e._v(" "),t("hr"),e._v(" "),t("p",[e._v("然后你就可以在命令行里直接使用"),t("code",[e._v("vsce")]),e._v("了。下面是一个快速发布的示例（在你登录和打包好插件之后）:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ vsce publish\nPublishing uuid@0.0.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\nSuccessfully published uuid@0.0.1"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("\n")])])]),t("p",[e._v("更多可用的命令参数，请使用"),t("code",[e._v("vsce --help")])]),e._v(" "),t("h2",{attrs:{id:"发布教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发布教程"}},[e._v("#")]),e._v(" 发布教程")]),e._v(" "),t("hr"),e._v(" "),t("p",[e._v("!> "),t("strong",[e._v("注意：")]),e._v(" 出于安全考虑，"),t("code",[e._v("vsce")]),e._v("不会发布包含用户提供 SVG 图片的插件。")]),e._v(" "),t("p",[e._v("发布工具会检查以下内容：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("pacakge.json")]),e._v("文件中的 icon 不可以是 SVG。")]),e._v(" "),t("li",[t("code",[e._v("pacakge.json")]),e._v("中的徽章不可以是 SVG，除非来自于"),t("RouterLink",{attrs:{to:"/extensibility-reference/extension-manifest.html#使用认证过的标志"}},[e._v("可靠的图标来源")])],1),e._v(" "),t("li",[t("code",[e._v("README.md")]),e._v("和"),t("code",[e._v("CHANGELOG.md")]),e._v("中的图片链接需要使用"),t("code",[e._v("https")]),e._v("协议")]),e._v(" "),t("li",[t("code",[e._v("README.md")]),e._v("和"),t("code",[e._v("CHANGELOG.md")]),e._v("中的图片不可以是 SVG，除非来自"),t("RouterLink",{attrs:{to:"/extensibility-reference/extension-manifest.html#使用认证过的标志"}},[e._v("可靠的图标来源")])],1)]),e._v(" "),t("hr"),e._v(" "),t("p",[e._v("VS Code 插件市场的服务是"),t("a",{attrs:{href:"https://visualstudio.microsoft.com/team-services",target:"_blank",rel:"noopener noreferrer"}},[e._v("Visual Studio Team Services"),t("OutboundLink")],1),e._v("提供的，因此验证、代理、管理插件都是由这个服务提供的。")]),e._v(" "),t("p",[t("code",[e._v("vsce")]),e._v("只能用"),t("a",{attrs:{href:"https://docs.microsoft.com/vsts/integrate/get-started/authentication/pats",target:"_blank",rel:"noopener noreferrer"}},[e._v("Personal Access Tokens"),t("OutboundLink")],1),e._v("发布插件，所以至少要创建一个 Token 以便发布插件。")]),e._v(" "),t("h4",{attrs:{id:"获取-personal-access-token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取-personal-access-token"}},[e._v("#")]),e._v(" 获取 Personal Access Token")]),e._v(" "),t("p",[e._v("首先，你得有一个"),t("a",{attrs:{href:"https://docs.microsoft.com/azure/devops/organizations/accounts/create-organization-msa-or-work-student",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure DevOps 组织"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("下面的例子里，我们假设组织名为"),t("code",[e._v("vscode")]),e._v("，从你的组织主页（例如："),t("code",[e._v("https://dev.azure.com/vscode")]),e._v(" ）进入**安全（Security）**页面：")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://media.githubusercontent.com/media/Microsoft/vscode-docs/master/api/working-with-extensions/images/publishing-extension/token1.png",alt:"publishers1"}})]),e._v(" "),t("p",[e._v("选择 Personal Access Token，点击"),t("strong",[e._v("New Token")]),e._v("创建一个新的 Personal Access Token")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://media.githubusercontent.com/media/Microsoft/vscode-docs/master/api/working-with-extensions/images/publishing-extension/token2.png",alt:"publishers2"}})]),e._v(" "),t("p",[e._v("给 Personal Access Token 添加描述，过期时间等等，你最好把过期时间设置为 1 年，这样你接下就能方便很多，选择"),t("strong",[e._v("custom defined（用户自定义）"),t("strong",[e._v("范围，然后点击")]),e._v("Show all scopes(显示全部)")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://media.githubusercontent.com/media/Microsoft/vscode-docs/master/api/working-with-extensions/images/publishing-extension/token3.png",alt:"publishers3"}})]),e._v(" "),t("p",[e._v("最后，在这个列表中找到"),t("strong",[e._v("Marketplace")]),e._v("，并勾选"),t("strong",[e._v("Acquire")]),e._v("和"),t("strong",[e._v("Manage")])]),e._v(" "),t("p",[t("img",{attrs:{src:"https://media.githubusercontent.com/media/Microsoft/vscode-docs/master/api/working-with-extensions/images/publishing-extension/token4.png",alt:"publishers4"}})]),e._v(" "),t("p",[e._v("点击"),t("strong",[e._v("Create")]),e._v("，你就会看到新创建的 Personal Access Token 了，复制好，你接下来就会用到这个 token 来创建一个"),t("em",[e._v("发行方")]),e._v("了。")]),e._v(" "),t("h4",{attrs:{id:"创建一个发行方"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个发行方"}},[e._v("#")]),e._v(" 创建一个发行方")]),e._v(" "),t("p",[t("strong",[e._v("发行方")]),e._v("是 VS Code 市场有权发布插件的唯一标识，每个插件的"),t("RouterLink",{attrs:{to:"/extensibility-reference/extension-manifest.html"}},[e._v("package.json")]),e._v("文件都包含着"),t("code",[e._v("publisher")]),e._v("字段。")],1),e._v(" "),t("p",[e._v("现在我们已经有了"),t("a",{attrs:{href:"#%E8%8E%B7%E5%8F%96Personal-Access-Token"}},[e._v("Personal Access Token")]),e._v("，我们马上可以用"),t("code",[e._v("vsce")]),e._v("创建一个发行方：")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("vsce create-publisher "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("publisher name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),t("p",[t("code",[e._v("vsce")]),e._v("会记住这个 Personal Access Token，日后你需要再次使用的时候会自动带上。")]),e._v(" "),t("p",[e._v("?> 注意：另外，你也可以在市场的发行方"),t("a",{attrs:{href:"https://marketplace.visualstudio.com/manage",target:"_blank",rel:"noopener noreferrer"}},[e._v("管理页"),t("OutboundLink")],1),e._v("中创建发行方，然后用这个账号登录"),t("code",[e._v("vsce")]),e._v("。")]),e._v(" "),t("h4",{attrs:{id:"发行方登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发行方登录"}},[e._v("#")]),e._v(" 发行方登录")]),e._v(" "),t("p",[e._v("如果你已经有发行方账号了：")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("vsce login "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("publisher name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),t("p",[e._v("和"),t("code",[e._v("create-publisher")]),e._v("命令类似地，"),t("code",[e._v("vsce")]),e._v("会要求输入你的 Personal Access Token。")]),e._v(" "),t("p",[e._v("你也可以用命令参数"),t("code",[e._v("-p <token>")]),e._v("直接登录然后立即发布插件：")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("vsce publish -p "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("token"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),t("h4",{attrs:{id:"增量更新插件版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增量更新插件版本"}},[e._v("#")]),e._v(" 增量更新插件版本")]),e._v(" "),t("p",[e._v("用 SemVer 语义标识符："),t("code",[e._v("major")]),e._v("，"),t("code",[e._v("minor")]),e._v("，"),t("code",[e._v("patch")]),e._v("增量更新插件版本号。")]),e._v(" "),t("p",[e._v("例如，你想把插件从 1.0.0 更新到 1.1.0，那么加上"),t("code",[e._v("minor")]),e._v("：")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("vsce publish minor\n")])])]),t("p",[e._v("插件"),t("code",[e._v("package.json")]),e._v("的 version 会先更新，然后才发布插件。")]),e._v(" "),t("p",[e._v("你也可以通过命令行指定版本号：")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("vsce publish "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2.0")]),e._v(".1\n")])])]),t("h4",{attrs:{id:"下架插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下架插件"}},[e._v("#")]),e._v(" 下架插件")]),e._v(" "),t("p",[e._v("通过指定插件 id"),t("code",[e._v("publisher.extension")]),e._v("下架插件：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("vsce unpublish (publisher name).(extension name)\n")])])]),t("p",[e._v("!> **注意：**当你下架插件的时候，市场会移除所有插件的历史统计数据，请在下架前再三考虑，最好还是更新插件吧。")]),e._v(" "),t("h4",{attrs:{id:"插件打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插件打包"}},[e._v("#")]),e._v(" 插件打包")]),e._v(" "),t("p",[e._v("你也可能只是想打包一下插件，而不是发布到商店里。用下列命令将插件打包到"),t("code",[e._v(".vsix")]),e._v("文件中：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("vsce package\n")])])]),t("p",[e._v("这个命令会在当前目录生成一个"),t("code",[e._v(".vsix")]),e._v("文件，直接从"),t("code",[e._v(".vsix")]),e._v("安装插件是允许的，查看"),t("a",{attrs:{href:"https://github.com/Microsoft/vscode-docs/blob/master/docs/editor/extension-gallery.md#install-from-a-vsix",target:"_blank",rel:"noopener noreferrer"}},[e._v("从 VSIX 安装插件"),t("OutboundLink")],1),e._v("了解更多内容。")]),e._v(" "),t("h4",{attrs:{id:"vs-code-版本兼容性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vs-code-版本兼容性"}},[e._v("#")]),e._v(" VS Code 版本兼容性")]),e._v(" "),t("p",[e._v("当你制作插件的时候，你需要描述插件对 VS Code 的版本兼容性——修改"),t("code",[e._v("package.json")]),e._v("中的"),t("code",[e._v("engines.vscode")]),e._v("：")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"engines"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"vscode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"^1.8.0"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[t("code",[e._v("1.8.0")]),e._v("表示你的插件只能兼容"),t("code",[e._v("1.8.0")]),e._v("版本的 VS Code，"),t("code",[e._v("^1.8.0")]),e._v("则表示你的插件向上兼容，包括"),t("code",[e._v("1.8.1, 1.9.0")]),e._v("等等。")]),e._v(" "),t("p",[e._v("使用"),t("code",[e._v("engines.vscode")]),e._v("可以确保插件安装环境包含了插件依赖的 API。这个机制在稳定版和 Insider 版本都适用。")]),e._v(" "),t("p",[e._v("现在我们假设最新的稳定版 API 是"),t("code",[e._v("1.8.0")]),e._v("，而"),t("code",[e._v("1.9.0")]),e._v("引入了新的 API，所以你可以用"),t("code",[e._v("1.9.0-insider")]),e._v("标识插件在 Insider 版中也可正常使用。\n如果你想使用这些刚刚引入的 API，则将依赖版本设置为"),t("code",[e._v("^1.9.0")]),e._v("，你的插件则只能安装在"),t("code",[e._v(">=1.9.0")]),e._v("的 VS Code 上，也就意味着所有当前的 Insider 版本都可以用得上，而稳定版只有在更新到"),t("code",[e._v("1.9.0")]),e._v("才能使用你的插件。")]),e._v(" "),t("h2",{attrs:{id:"进阶用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进阶用法"}},[e._v("#")]),e._v(" 进阶用法")]),e._v(" "),t("hr"),e._v(" "),t("h4",{attrs:{id:"符合市场的插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#符合市场的插件"}},[e._v("#")]),e._v(" 符合市场的插件")]),e._v(" "),t("p",[e._v("你可以自定义插件在市场中的外观，查看示例"),t("a",{attrs:{href:"https://marketplace.visualstudio.com/items/ms-vscode.Go",target:"_blank",rel:"noopener noreferrer"}},[e._v("GO 插件"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("p",[e._v("下面是一些让你的插件在市场看起来更酷的小提示：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("插件根目录下面的"),t("code",[e._v("README.md")]),e._v("文件可以用来填充插件市场的页面内容。"),t("code",[e._v("vsce")]),e._v("会将 README 中的链接通过下面两种方式修改掉：")]),e._v(" "),t("ul",[t("li",[e._v("如果你的"),t("code",[e._v("package.json")]),e._v("的"),t("code",[e._v("repository")]),e._v("字段是一个 Github 仓库，"),t("code",[e._v("vsce")]),e._v("会自动检测，然后相应地调整链接。")]),e._v(" "),t("li",[e._v("运行"),t("code",[e._v("vsce package")]),e._v("时，加上"),t("code",[e._v("--baseContentUrl")]),e._v("和"),t("code",[e._v("--baseImagesUrl")]),e._v("标识重载上述行为。")])])]),e._v(" "),t("li",[t("p",[e._v("插件根目录下的"),t("code",[e._v("LICENSE")]),e._v("会成为插件的 license。")])]),e._v(" "),t("li",[t("p",[e._v("同样的"),t("code",[e._v("CHANGELOG.md")]),e._v("文件会成为插件的发布日志。")])]),e._v(" "),t("li",[t("p",[e._v("通过设置"),t("code",[e._v("package.json")]),e._v("的"),t("code",[e._v("galleryBanner.color")]),e._v("hex 值，修改 banner 的背景色。")])]),e._v(" "),t("li",[t("p",[e._v("通过给"),t("code",[e._v("package.json")]),e._v("中的"),t("code",[e._v("icon")]),e._v("设置一个相对路径，可以将一个"),t("code",[e._v("128px")]),e._v("的 PNG 图标放进你的插件中。")])]),e._v(" "),t("li",[t("p",[e._v("参见"),t("a",{attrs:{href:"https://github.com/Microsoft/vscode-docs/blob/master/docs/extensionAPI/extension-manifest.md#marketplace-presentation-tips",target:"_blank",rel:"noopener noreferrer"}},[e._v("插件市场展现小提示"),t("OutboundLink")],1)])])]),e._v(" "),t("h4",{attrs:{id:"vscodeignore"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vscodeignore"}},[e._v("#")]),e._v(" "),t("code",[e._v(".vscodeignore")])]),e._v(" "),t("p",[e._v("创建一个"),t("code",[e._v(".vscodeignore")]),e._v("文件可以排除插件目录中的内容。这个文件支持"),t("a",{attrs:{href:"https://github.com/isaacs/minimatch",target:"_blank",rel:"noopener noreferrer"}},[e._v("glob"),t("OutboundLink")],1),e._v("模式，每个表达式一行。")]),e._v(" "),t("p",[e._v("例如：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("**/*.ts\n**/tsconfig.json\n!file.ts\n")])])]),t("p",[e._v("你应该忽略哪些不必在运行时用到的文件。例如：你的插件是用 Typescript 写的，那么你就应该忽略所有的"),t("code",[e._v("**/*.ts")]),e._v("文件。")]),e._v(" "),t("p",[e._v("?> **注意：**在"),t("code",[e._v("devDependencies")]),e._v("列出的开发依赖会被自动忽略，你不必将他们加入到"),t("code",[e._v(".vscodeignore")]),e._v("中。")]),e._v(" "),t("h5",{attrs:{id:"预发布步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预发布步骤"}},[e._v("#")]),e._v(" 预发布步骤")]),e._v(" "),t("p",[e._v("你是可以在清单文件中添加预发布步骤的，下面的命令会在插件每次打包时执行：")]),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"uuid"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"version"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0.0.1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"publisher"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"joaomoreno"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"engines"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"vscode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0.10.x"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"vscode:prepublish"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tsc"')]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("p",[e._v("上面的示例会在每次插件打包时调用 Typescript 编译器。")]),e._v(" "),t("h2",{attrs:{id:"faq"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[e._v("#")]),e._v(" FAQ")]),e._v(" "),t("h5",{attrs:{id:"问-当我发布插件时遇到了-403-forbidden-或-401-unauthorized-错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问-当我发布插件时遇到了-403-forbidden-或-401-unauthorized-错误"}},[e._v("#")]),e._v(" 问：当我发布插件时遇到了 403 Forbidden（或 401 Unauthorized）错误？")]),e._v(" "),t("p",[e._v("答：很有可能是你创建 PAT (Personal Access Token) 时没有选择"),t("code",[e._v("all accessible accounts")]),e._v("。你还需要将授权范围设置为"),t("code",[e._v("All scopes")]),e._v("，这样发布工具才能工作。")]),e._v(" "),t("h5",{attrs:{id:"问-我没办法用vsce工具下架插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问-我没办法用vsce工具下架插件"}},[e._v("#")]),e._v(" 问：我没办法用"),t("code",[e._v("vsce")]),e._v("工具下架插件？")]),e._v(" "),t("p",[e._v("答：你可能改变了插件 ID 或者发行方名称。不过你还可以在"),t("a",{attrs:{href:"https://marketplace.visualstudio.com/manage",target:"_blank",rel:"noopener noreferrer"}},[e._v("管理页面"),t("OutboundLink")],1),e._v("发布或者下架插件。")]),e._v(" "),t("h5",{attrs:{id:"问-为什么-vsce-不保留文件属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问-为什么-vsce-不保留文件属性"}},[e._v("#")]),e._v(" 问：为什么 vsce 不保留文件属性？")]),e._v(" "),t("p",[e._v("答：请注意，当你在 Windows 平台构建和发布插件的时候，所有插件包内的文件会丢失 POSIX 文件属性，或称之为执行位（executable bit）的东西。一些基于这些属性的"),t("code",[e._v("node_modules")]),e._v("依赖则会调整工作方式。从 Linux 和 macOS 平台构建则会如预期执行。")]),e._v(" "),t("h2",{attrs:{id:"下一步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下一步"}},[e._v("#")]),e._v(" 下一步")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://code.visualstudio.com/docs/editor/extension-gallery",target:"_blank",rel:"noopener noreferrer"}},[e._v("插件市场"),t("OutboundLink")],1),e._v(" - 学习更多 VS Code 公共插件市场。")]),e._v(" "),t("li",[t("RouterLink",{attrs:{to:"/working-with-extensions/testing-extension.html"}},[e._v("测试插件")]),e._v(" - 添加插件测试，提高插件质量。")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);