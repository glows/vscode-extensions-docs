(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{400:function(e,t,o){"use strict";o.r(t);var s=o(42),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"你的第一个插件"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#你的第一个插件"}},[e._v("#")]),e._v(" 你的第一个插件")]),e._v(" "),o("p",[e._v("在本小节中，我们会教你一些基础概念，请先安装好"),o("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js"),o("OutboundLink")],1),e._v("和"),o("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Git"),o("OutboundLink")],1),e._v("，然后安装"),o("a",{attrs:{href:"http://yeoman.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Yeoman"),o("OutboundLink")],1),e._v("和"),o("a",{attrs:{href:"https://www.npmjs.com/package/generator-code",target:"_blank",rel:"noopener noreferrer"}},[e._v("VS Code Extension Generator"),o("OutboundLink")],1),e._v("：")]),e._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[o("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g yo generator-code\n")])])]),o("p",[e._v("这个脚手架会生成一个可以立马开发的项目。运行生成器，然后填好下列字段：")]),e._v(" "),o("div",{staticClass:"language-bash extra-class"},[o("pre",{pre:!0,attrs:{class:"language-bash"}},[o("code",[e._v("yo code\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What type of extension do you want to create? New Extension (TypeScript)")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What's the name of your extension? HelloWorld")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("### Press <Enter> to choose default for all options below ###")]),e._v("\n\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What's the identifier of your extension? helloworld")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? What's the description of your extension? LEAVE BLANK")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Enable stricter TypeScript checking in 'tsconfig.json'? Yes")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Setup linting using 'tslint'? Yes")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Initialize a git repository? Yes")]),e._v("\n"),o("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ? Which package manager to use? npm")]),e._v("\n\ncode ./helloworld\n")])])]),o("p",[e._v("完成后进入 VS Code，按下"),o("code",[e._v("F5")]),e._v("，你会立即看到一个"),o("strong",[e._v("插件发开主机")]),e._v("窗口，其中就运行着插件。")]),e._v(" "),o("p",[e._v("在命令面板("),o("code",[e._v("Ctrl+Shift+P")]),e._v(")中输入"),o("code",[e._v("Hello World")]),e._v("命令。")]),e._v(" "),o("video",{attrs:{loop:"",muted:"",playsinline:"",controls:""},domProps:{muted:!0}},[o("source",{attrs:{src:"https://code.visualstudio.com/api/get-started/your-first-extension/launch.mp4",type:"video/mp4"}})]),e._v(" "),o("p",[e._v("如果你看到了"),o("code",[e._v("Hello World")]),e._v("提示弹窗，恭喜你成功了！")]),e._v(" "),o("h2",{attrs:{id:"开发插件"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#开发插件"}},[e._v("#")]),e._v(" 开发插件")]),e._v(" "),o("hr"),e._v(" "),o("p",[e._v("现在让我们稍稍改动一下弹窗显示的内容：")]),e._v(" "),o("ul",[o("li",[e._v("将项目文件"),o("code",[e._v("extension.ts")]),e._v("中的"),o("code",[e._v("Hello World")]),e._v("改为"),o("code",[e._v("Hello VS Code")])]),e._v(" "),o("li",[e._v("重新加载开发窗口")]),e._v(" "),o("li",[e._v("再次运行"),o("code",[e._v("Hello World")]),e._v("命令")])]),e._v(" "),o("p",[e._v("你应该就能看到显示的消息更新了：")]),e._v(" "),o("video",{attrs:{loop:"",muted:"",playsinline:"",controls:""},domProps:{muted:!0}},[o("source",{attrs:{src:"https://code.visualstudio.com/api/get-started/your-first-extension/reload.mp4",type:"video/mp4"}})]),e._v(" "),o("p",[e._v("请浏览你的项目目录和代码，然后进行下面的小练习：")]),e._v(" "),o("ul",[o("li",[e._v("为命令面板中的"),o("code",[e._v("Hello World")]),e._v("换一个名字")]),e._v(" "),o("li",[o("RouterLink",{attrs:{to:"/references/contribution-points.html"}},[e._v("配置")]),e._v("一个新的命令：打开一个提示弹窗，显示当前时间")],1),e._v(" "),o("li",[e._v("用显示警告信息的"),o("RouterLink",{attrs:{to:"/references/vscode-api.html"}},[e._v("VS Code API")]),e._v("替换原本的"),o("code",[e._v("vscode.window.showInformationMessage")])],1)]),e._v(" "),o("h2",{attrs:{id:"调试插件"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#调试插件"}},[e._v("#")]),e._v(" 调试插件")]),e._v(" "),o("hr"),e._v(" "),o("p",[e._v("VS Code 内置的调试功能已经非常方便了，在代码序号的左侧空白处点击一下，VS Code 就会设下断点，进入调试模式后将鼠标悬停于变量上显示变量值，或是在调试侧边栏中检查变量值，此时，你还可以用"),o("strong",[e._v("调试控制台")]),e._v("直接对表达式求值。")]),e._v(" "),o("video",{attrs:{loop:"",muted:"",playsinline:"",controls:""},domProps:{muted:!0}},[o("source",{attrs:{src:"https://code.visualstudio.com/api/get-started/your-first-extension/debug.mp4",type:"video/mp4"}})]),e._v(" "),o("p",[e._v("有关 Node.js 调试的部分，请参考"),o("a",{attrs:{href:"https://code.visualstudio.com/docs/nodejs/nodejs-debugging",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js 调试"),o("OutboundLink")],1),e._v("部分。")]),e._v(" "),o("h2",{attrs:{id:"下一步"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#下一步"}},[e._v("#")]),e._v(" 下一步")]),e._v(" "),o("p",[e._v("在下个主题"),o("RouterLink",{attrs:{to:"/get-started/extension-anatomy.html"}},[e._v("解析插件结构")]),e._v("中，我们会大致看一下"),o("code",[e._v("Hello World")]),e._v("示例的源码，然后解释一些关键的概念。")],1),e._v(" "),o("p",[e._v("本节教程的源码可参考"),o("a",{attrs:{href:"https://github.com/Microsoft/vscode-extension-samples/tree/master/helloworld-sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/Microsoft/vscode-extension-samples/tree/master/helloworld-sample"),o("OutboundLink")],1),e._v("。\n此外，"),o("RouterLink",{attrs:{to:"/extension-guides/"}},[e._v("插件指引")]),e._v("章节还包含其他示例代码，每个例子都对应着不同的 VS Code Api 和发布内容配置。")],1),e._v(" "),o("h4",{attrs:{id:"使用-javascript"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#使用-javascript"}},[e._v("#")]),e._v(" 使用 Javascript")]),e._v(" "),o("p",[e._v("在本指南中，我们主要使用 TypeScript 开发 VS Code 插件，因为我们认为 TS 是开发插件的最佳实践。如果你想使用 JS，我们也同样提供了源码"),o("a",{attrs:{href:"https://github.com/Microsoft/vscode-extension-samples/tree/master/helloworld-minimal-sample",target:"_blank",rel:"noopener noreferrer"}},[e._v("helloworld-minimal-sample"),o("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);